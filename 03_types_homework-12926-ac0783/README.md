# zipjpeg

Идентифицирует zip-архив, записанный в конец любого файла и выводит список файлов в нём.

## Реализация
Код полностью воодушевлен вспомогательными материалами к заданию:
https://habr.com/ru/companies/vk/articles/490790/ (первоисточник https://www.hanshq.net/files/hwzip/zip.c).


Все сдвиги, записанные в заголовках ZIP-файла некорректны из-за того, что вначале присутствует другой файл. Первое,
что можно сделать, это скорректировать сдвиг eocdr.cd_offset вычислив его по сумме eocdr.cd_size, eocdr.comment_len 
и EOCDR_BASE_SZ, вычтенной из длины файла. Но, прежде неплохо бы сохранить тот сдвиг, что был записан в eocdr.cd_offset,
поскольку он указывает на количество байт от начала zip-файла до заголовка central directory. И, если, вычесть из длины
файла сумму (eocdr.cd_offset + cd_size + EOCDR_BASE_SZ + eocdr.comment_len), то получим zip_file_offset - размер того
jpeg-a или любого друго файла, в конец которого дописан zip. Далее прибавляем zip_file_offset ко всем сдвигам, записанным
в zip-файле и они становятся корректными: можно читать названия сжатых файлов из central file header и, далее, можно
распаковывать сжатые файлы, получив корректные cfh.lfh_offset.

## Сборка
```
cmake .
cmake --build .
```

